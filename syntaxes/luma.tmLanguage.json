{
  "scopeName": "text.html.php.luma",
  "fileTypes": ["luma.php"],
  "patterns": [
    {
      "include": "#luma-directives"
    },
    {
      "include": "#luma-echo"
    },
    {
      "include": "text.html.php"
    }
  ],
  "repository": {
    "luma-directives": {
      "patterns": [
        {
          "name": "keyword.control.luma",
          "match": "@(if|elseif|else|endif|for|endfor|foreach|endforeach|while|endwhile|switch|case|default|break|endswitch|exist|endexist|not|endnot)\\b"
        },
        {
          "name": "keyword.other.luma",
          "match": "@(include|use|js|css|header:js|header:css|selected|checked)\\b"
        },
        {
          "begin": "(@php)",
          "end": "(@endphp)",
          "captures": {
            "0": { "name": "keyword.control.luma" }
          },
          "patterns": [
            { "include": "source.php" }
          ]
        }
      ]
    },
    "luma-echo": {
      "patterns": [
        {
          "name": "meta.tag.template.luma",
          "begin": "\\{\\{",
          "beginCaptures": {
            "0": { "name": "punctuation.definition.tag.begin.luma" }
          },
          "end": "\\}\\}",
          "endCaptures": {
            "0": { "name": "punctuation.definition.tag.end.luma" }
          },
          "patterns": [
            {
              "match": "\\b(raw|int|float|string|bool)\\b",
              "name": "storage.type.luma"
            },
            {
              "include": "source.php"
            }
          ]
        }
      ]
    }
  }
}