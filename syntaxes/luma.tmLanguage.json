{
  "scopeName": "luma.injection",
  "injectionSelector": "L:text.html, L:source.php",
  "patterns": [
    { "include": "#luma-directives" },
    { "include": "#luma-echo" }
  ],
  "repository": {
    "luma-directives": {
      "patterns": [
        {
          "name": "keyword.control.luma",
          "match": "@(if|elseif|else|endif|for|endfor|foreach|endforeach|while|endwhile|switch|case|default|break|endswitch|exist|endexist|not|endnot)\\b"
        },
        {
          "name": "keyword.other.luma",
          "match": "@(include|use|js|css|header:js|header:css|selected|checked)\\b"
        },
        {
          "begin": "@php\\b",
          "end": "@endphp\\b",
          "name": "meta.embedded.block.luma",
          "patterns": [
            { "include": "source.php" }
          ]
        }
      ]
    },
    "luma-echo": {
      "patterns": [
        {
          "begin": "\\{\\{",
          "end": "\\}\\}",
          "name": "meta.expression.luma",
          "patterns": [
            {
              "match": "\\b(raw|int|float|string|bool)\\b",
              "name": "storage.type.luma"
            },
            { "include": "source.php" }
          ]
        }
      ]
    }
  }
}
